<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (23) -->
<title>BitStream (OpenJ9 JDK 23)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: openj9.dtfj, package: com.ibm.dtfj.corereaders.zos.util, class: BitStream">
<meta name="generator" content="javadoc/ClassWriter">
<meta name="keywords" content="com.ibm.dtfj.corereaders.zos.util.BitStream class">
<meta name="keywords" content="rewind()">
<meta name="keywords" content="reset()">
<meta name="keywords" content="writeLongBits()">
<meta name="keywords" content="writeIntBits()">
<meta name="keywords" content="nextWord()">
<meta name="keywords" content="getIndex()">
<meta name="keywords" content="setIndex()">
<meta name="keywords" content="readIntBits()">
<meta name="keywords" content="readLongBits()">
<meta name="keywords" content="log2()">
<meta name="keywords" content="writeDelta()">
<meta name="keywords" content="writeGamma()">
<meta name="keywords" content="writeUnary()">
<meta name="keywords" content="readDelta()">
<meta name="keywords" content="readGamma()">
<meta name="keywords" content="readUnary()">
<meta name="keywords" content="writeVariableByte()">
<meta name="keywords" content="readVariableByte()">
<meta name="keywords" content="writeGolombRice()">
<meta name="keywords" content="readGolombRice()">
<meta name="keywords" content="memoryUsage()">
<meta name="keywords" content="main()">
<link rel="stylesheet" type="text/css" href="../../../../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/BitStream.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../search.html">Search</a></li>
<li><a href="../../../../../../../help-doc.html#class">Help</a></li>
</ul>
<div class="about-language"><div ><strong>OpenJ9 JDK 23</strong></div></div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="../../../../../../module-summary.html">openj9.dtfj</a></li>
<li><a href="package-summary.html">com.ibm.dtfj.corereaders.zos.util</a></li>
<li><a href="BitStream.html" class="current-selection">BitStream</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E()" tabindex="0">BitStream()</a></li>
<li><a href="#%3Cinit%3E(int)" tabindex="0">BitStream(int)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#rewind()" tabindex="0">rewind()</a></li>
<li><a href="#reset()" tabindex="0">reset()</a></li>
<li><a href="#writeLongBits(long,int)" tabindex="0">writeLongBits(long, int)</a></li>
<li><a href="#writeIntBits(int,int)" tabindex="0">writeIntBits(int, int)</a></li>
<li><a href="#nextWord()" tabindex="0">nextWord()</a></li>
<li><a href="#getIndex()" tabindex="0">getIndex()</a></li>
<li><a href="#setIndex(int)" tabindex="0">setIndex(int)</a></li>
<li><a href="#readIntBits(int)" tabindex="0">readIntBits(int)</a></li>
<li><a href="#readLongBits(int)" tabindex="0">readLongBits(int)</a></li>
<li><a href="#log2(int)" tabindex="0">log2(int)</a></li>
<li><a href="#writeDelta(int)" tabindex="0">writeDelta(int)</a></li>
<li><a href="#writeGamma(int)" tabindex="0">writeGamma(int)</a></li>
<li><a href="#writeUnary(int)" tabindex="0">writeUnary(int)</a></li>
<li><a href="#readDelta()" tabindex="0">readDelta()</a></li>
<li><a href="#readGamma()" tabindex="0">readGamma()</a></li>
<li><a href="#readUnary()" tabindex="0">readUnary()</a></li>
<li><a href="#writeVariableByte(int)" tabindex="0">writeVariableByte(int)</a></li>
<li><a href="#readVariableByte()" tabindex="0">readVariableByte()</a></li>
<li><a href="#writeGolombRice(int,int)" tabindex="0">writeGolombRice(int, int)</a></li>
<li><a href="#readGolombRice(int)" tabindex="0">readGolombRice(int)</a></li>
<li><a href="#memoryUsage()" tabindex="0">memoryUsage()</a></li>
<li><a href="#main(java.lang.String%5B%5D)" tabindex="0">main(String[])</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class BitStream" class="title">Class BitStream</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link" target="_blank">java.lang.Object</a>
<div class="inheritance">com.ibm.dtfj.corereaders.zos.util.BitStream</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link" target="_blank">Serializable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">BitStream</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link" target="_blank">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link" target="_blank">Serializable</a></span></div>
<div class="block">This class provides a mechanism for writing and reading numbers in a bit stream. In other
 words you can for instance write the number 3 in 2 bits followed by the number 1 in 3 bits
 and so on, then rewind the stream and read a 2 bit number followed by a 3 bit number etc.
 The stream is implemented as an array of 32-bit ints (hereafter referred to as "words")
 and methods are provided to move to the next word and to get and set the current index into
 the array of words. This enables you to (eg) store a number of sequences of numbers in the same
 BitStream and to store the index for each sequence externally somewhere.
 <p>
 In addition to writing and reading numbers of fixed length, this stream also supports
 variable length numbers using a variety of encodings. A good overview of the encodings
 used can be found <a href="http://www.csee.umbc.edu/~ian/irF02/lectures/05Compression-for-IR.pdf">here</a>.
 This <a href="http://en.wikipedia.org/wiki/Universal_code">Wikipedia article</a> also has
 some cool graphs showing the scalability of the encodings.
 <p>
 Note that all ints are treated as unsigned. You will still get back what you put in if you
 write a negative number but if you're using encoded numbers then bear in mind that (eg) -1
 will be output as 0xffffffff.
 <p>
 Todo: might be good to wrap this class round a generic Input/OutputStream.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../../../../serialized-form.html#com.ibm.dtfj.corereaders.zos.util.BitStream">Serialized Form</a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">BitStream</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Create a new BitStream with a default size of 100 bytes.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(int)" class="member-name-link">BitStream</a><wbr>(int&nbsp;numInts)</code></div>
<div class="col-last odd-row-color">
<div class="block">Create a new BitStream containing the given number of ints.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getIndex()" class="member-name-link">getIndex</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the current word index</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#log2(int)" class="member-name-link">log2</a><wbr>(int&nbsp;n)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the log2 of the given number.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#main(java.lang.String%5B%5D)" class="member-name-link">main</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link" target="_blank">String</a>[]&nbsp;args)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">This method is provided to test the BitStream.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#memoryUsage()" class="member-name-link">memoryUsage</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Give a rough estimate of how many bytes of storage we use.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#nextWord()" class="member-name-link">nextWord</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Move to the next full word boundary.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readDelta()" class="member-name-link">readDelta</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reads a delta coded integer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readGamma()" class="member-name-link">readGamma</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Reads a gamma coded integer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readGolombRice(int)" class="member-name-link">readGolombRice</a><wbr>(int&nbsp;k)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a number using Golomb-Rice coding.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readIntBits(int)" class="member-name-link">readIntBits</a><wbr>(int&nbsp;len)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read an int from given number of bits.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readLongBits(int)" class="member-name-link">readLongBits</a><wbr>(int&nbsp;len)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a long from given number of bits.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readUnary()" class="member-name-link">readUnary</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a unary coded integer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readVariableByte()" class="member-name-link">readVariableByte</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Read a number using variable byte code.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reset()" class="member-name-link">reset</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resets the stream so that it may be used again for writing.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#rewind()" class="member-name-link">rewind</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Rewinds the stream ready for reading.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setIndex(int)" class="member-name-link">setIndex</a><wbr>(int&nbsp;index)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the word index to the given value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeDelta(int)" class="member-name-link">writeDelta</a><wbr>(int&nbsp;n)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Outputs the unsigned integer using delta coding.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeGamma(int)" class="member-name-link">writeGamma</a><wbr>(int&nbsp;n)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Outputs the given unsigned integer using gamma coding.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeGolombRice(int,int)" class="member-name-link">writeGolombRice</a><wbr>(int&nbsp;n,
 int&nbsp;k)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Write a number using Golomb-Rice coding.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeIntBits(int,int)" class="member-name-link">writeIntBits</a><wbr>(int&nbsp;n,
 int&nbsp;len)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Write a number into the given number of bits.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeLongBits(long,int)" class="member-name-link">writeLongBits</a><wbr>(long&nbsp;n,
 int&nbsp;len)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Write a number into the given number of bits.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeUnary(int)" class="member-name-link">writeUnary</a><wbr>(int&nbsp;n)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Outputs the given unsigned integer as a unary number.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeVariableByte(int)" class="member-name-link">writeVariableByte</a><wbr>(int&nbsp;n)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Write a number using variable byte code.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link" target="_blank">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link" target="_blank">clone</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link" target="_blank">equals</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link" target="_blank">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link" target="_blank">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link" target="_blank">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link" target="_blank">notify</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link" target="_blank">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link" target="_blank">toString</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link" target="_blank">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link" target="_blank">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link" target="_blank">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>BitStream</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BitStream</span>()</div>
<div class="block">Create a new BitStream with a default size of 100 bytes.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int)">
<h3>BitStream</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BitStream</span><wbr><span class="parameters">(int&nbsp;numInts)</span></div>
<div class="block">Create a new BitStream containing the given number of ints. The BitStream is
 implemented as an array of ints which will grow if necessary.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>numInts</code> - the initial size of the array of ints</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="rewind()">
<h3>rewind</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">rewind</span>()</div>
<div class="block">Rewinds the stream ready for reading.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="reset()">
<h3>reset</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reset</span>()</div>
<div class="block">Resets the stream so that it may be used again for writing.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="writeLongBits(long,int)">
<h3>writeLongBits</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeLongBits</span><wbr><span class="parameters">(long&nbsp;n,
 int&nbsp;len)</span></div>
<div class="block">Write a number into the given number of bits.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>n</code> - the number to write</dd>
<dd><code>len</code> - the number of bits to write the number to</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="writeIntBits(int,int)">
<h3>writeIntBits</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeIntBits</span><wbr><span class="parameters">(int&nbsp;n,
 int&nbsp;len)</span></div>
<div class="block">Write a number into the given number of bits. Note that there is no requirement
 that the given number be small enough to fit, the number written will be masked
 appropriately.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>n</code> - the number to write</dd>
<dd><code>len</code> - the number of bits to write the number to</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="nextWord()">
<h3>nextWord</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">nextWord</span>()</div>
<div class="block">Move to the next full word boundary.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="getIndex()">
<h3>getIndex</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getIndex</span>()</div>
<div class="block">Returns the current word index</div>
</div>
</section>
</li>
<li>
<section class="detail" id="setIndex(int)">
<h3>setIndex</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setIndex</span><wbr><span class="parameters">(int&nbsp;index)</span></div>
<div class="block">Sets the word index to the given value. This also resets the bit offset to the
 beginning of the word. This method must only be used when reading to start reading
 a number stream from a saved position.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="readIntBits(int)">
<h3>readIntBits</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">readIntBits</span><wbr><span class="parameters">(int&nbsp;len)</span></div>
<div class="block">Read an int from given number of bits.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>len</code> - the number of bits to read the number from</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="readLongBits(int)">
<h3>readLongBits</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">readLongBits</span><wbr><span class="parameters">(int&nbsp;len)</span></div>
<div class="block">Read a long from given number of bits.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>len</code> - the number of bits to read the number from</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="log2(int)">
<h3>log2</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">log2</span><wbr><span class="parameters">(int&nbsp;n)</span></div>
<div class="block">Returns the log2 of the given number.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="writeDelta(int)">
<h3>writeDelta</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">writeDelta</span><wbr><span class="parameters">(int&nbsp;n)</span></div>
<div class="block">Outputs the unsigned integer using delta coding. Delta coding gives better results
 than gamma when larger numbers are more frequent.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of bits used</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="writeGamma(int)">
<h3>writeGamma</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">writeGamma</span><wbr><span class="parameters">(int&nbsp;n)</span></div>
<div class="block">Outputs the given unsigned integer using gamma coding. Gamma coding is good when you
 know small numbers are much more frequent than large numbers.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of bits used</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="writeUnary(int)">
<h3>writeUnary</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">writeUnary</span><wbr><span class="parameters">(int&nbsp;n)</span></div>
<div class="block">Outputs the given unsigned integer as a unary number. Unary numbers are good for
 small integers.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of bits used</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="readDelta()">
<h3>readDelta</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">readDelta</span>()</div>
<div class="block">Reads a delta coded integer.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="readGamma()">
<h3>readGamma</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">readGamma</span>()</div>
<div class="block">Reads a gamma coded integer.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="readUnary()">
<h3>readUnary</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">readUnary</span>()</div>
<div class="block">Read a unary coded integer.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="writeVariableByte(int)">
<h3>writeVariableByte</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">writeVariableByte</span><wbr><span class="parameters">(int&nbsp;n)</span></div>
<div class="block">Write a number using variable byte code. This is good when you have lots of
 medium size numbers.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the number of bits used</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="readVariableByte()">
<h3>readVariableByte</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">readVariableByte</span>()</div>
<div class="block">Read a number using variable byte code.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="writeGolombRice(int,int)">
<h3>writeGolombRice</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">writeGolombRice</span><wbr><span class="parameters">(int&nbsp;n,
 int&nbsp;k)</span></div>
<div class="block">Write a number using Golomb-Rice coding. Good all rounder if you choose
 the right value of k, absolute rubbish otherwise!</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>n</code> - the unsigned number to write</dd>
<dd><code>k</code> - the number of bits to use for the remainder</dd>
<dt>Returns:</dt>
<dd>the number of bits used</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="readGolombRice(int)">
<h3>readGolombRice</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">readGolombRice</span><wbr><span class="parameters">(int&nbsp;k)</span></div>
<div class="block">Read a number using Golomb-Rice coding.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>k</code> - the number of bits to use for the remainder</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="memoryUsage()">
<h3>memoryUsage</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">memoryUsage</span>()</div>
<div class="block">Give a rough estimate of how many bytes of storage we use. This is the actual storage
 allocated so may be more that what is in use at any one time.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="main(java.lang.String[])">
<h3>main</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">main</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link" target="_blank">String</a>[]&nbsp;args)</span></div>
<div class="block">This method is provided to test the BitStream. We need to change this to use unit
 tests at some point.</div>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://www.eclipse.org/openj9/" target="_blank">Eclipse OpenJ9 website.</a><br> To raise a bug report or suggest an improvement create an <a href="https://github.com/eclipse-openj9/openj9/issues" target="_blank">Eclipse Openj9 issue.</a><br> Copyright &copy; 1998, 2024 IBM Corp. and others.</small></p>
</footer>
</main>
</div>
</body>
</html>
